"use strict";!function(r){r("body").hasClass("page-template-template-landing-page-policies")&&r.ajax({type:"POST",dataType:"json",url:ajax_object.ajax_url,data:{action:"ulv_policy_library_assemble_available_policy_tags",nonce:ajax_object.nonce},async:!1,success:function(e){function t(e){if(e){for(var t=e,a=0;a<t.length;a++)r(t[a]).hasClass("autocomplete-active")&&r(t[a]).removeClass("autocomplete-active");(c=c>=e.length?0:c)<0&&(c=e.length-1),r(e[c]).addClass("autocomplete-active")}}var i,l,n,c,o,s;"success"===e.status?(i=r("#searchPolicyTag"),l=e.info.ulv_policy_library_tags,s=r("<div/>").addClass("autocomplete-items").attr("id","searchPolicyTag-autocomplete-list"),i.after(s),i.on("input click",function(e){var t=r(this).val();if(t.match(/[a-zA-Z ]/g)&&s.empty(),!t)return s.empty(),!1;c=-1;for(var a=n=0;a<l.length;a++)if(l[a].substr(0,t.length).toUpperCase()==t.toUpperCase()){if(o=r("<div/>").html("<strong>"+l[a].substr(0,t.length)+"</strong>"+l[a].substr(t.length)+"<input type='hidden' value='"+l[a]+"'>"),!(n<3)){n=0;break}n++,s.append(o)}s.children("div").on("click",function(){i[0].value=r(this)[0].textContent,s.empty()})}),i.on("keyup",function(e){s.children("div")&&0<s.children("div").length&&(40==e.keyCode?(c++,t(s.children("div")),r("#searchPolicyTag").val(s.children("div").eq(c)[0].textContent)):38==e.keyCode&&(c--,t(s.children("div")),r("#searchPolicyTag").val(s.children("div").eq(c)[0].textContent))),27==e.keyCode&&(c=0,r("#searchPolicyTag").val(""),s.empty())}),r(document).on("click",function(e){"searchPolicyTag"!==e.target.id&&s.empty()})):console.log("Error generating policy: ",e.status)}})}(jQuery);